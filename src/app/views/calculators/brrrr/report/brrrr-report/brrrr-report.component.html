<div class="container brrr-report-container">
    <div class="row">
        <div class="col-12">
            <h4>{{currentProperty.propertyInfo.propertyTitle}}</h4>
            <a routerLink="/calculators/brrrr/rental-info">
                <button type="button" class="btn btn-primary">Edit Report</button>
            </a>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-5">
            <div class="col-12 highlights-col">
                <h3>
                    {{currentProperty.purchaseInfo.prchasePrice | currency}}
                </h3>
                <h3>
                    <small class="text-muted">Purchase Price</small>
                </h3>
            </div>
            <table class="table table-borderless">
                <tbody>
                    <tr>
                        <td>Purchase Closing Costs</td>
                        <th scope="row">{{currentProperty.purchaseInfo.prchasePrice | currency}}</th>
                    </tr>
                    <tr>
                        <td>Purchase Closing Costs</td>
                        <th scope="row">{{currentProperty.purchaseInfo.purchaseClosingCost | currency}}</th>
                    </tr>
                    <tr>
                        <td>Estimated Repairs</td>
                        <th scope="row">{{currentProperty.purchaseInfo.estimatedRepairCost | currency}}</th>
                    </tr>
                    <tr>
                        <td>Total Project Cost</td>
                        <th scope="row">{{currentProperty.purchaseInfo.totalProjectCost | currency}}</th>
                    </tr>
                    <tr>
                        <td>After Repair Value</td>
                        <th scope="row">{{currentProperty.purchaseInfo.arv | currency}}</th>
                    </tr>
                    <tr>
                        <td>Equity Remaining</td>
                        <!-- <th scope="row"
                            [ngClass]="{'text-success': currentProperty.purchaseInfo.equityRemaining > 0, 'text-danger':currentProperty.purchaseInfo.equityRemaining< 1 }">
                            {{currentProperty.purchaseInfo.equityRemaining | currency}}</th> -->
                        <th scope="row">
                            {{currentProperty.purchaseInfo.equityRemaining | currency}}</th>

                    </tr>
                </tbody>
            </table>

            <hr>
            <h4>Acquistion</h4>
            <table class="table table-borderless">
                <tbody>
                    <tr>
                        <td>Total Cash Needed At Purchase</td>
                        <th scope="row">{{currentProperty.purchaseInfo.cashRequiredAtPurchase | currency}}</th>
                    </tr>
                    <tr>
                        <td>Down Payment</td>
                        <th scope="row">{{currentProperty.purchaseInfo.downPaymentOfPurchasePrice | currency}}</th>
                    </tr>
                    <tr>
                        <td>Loan Amount</td>
                        <th scope="row">{{currentProperty.purchaseInfo.totalMoneyBorrowed | currency}}</th>
                    </tr>
                    <tr>
                        <td>Loan Points/Fees</td>
                        <th scope="row">{{currentProperty.purchaseInfo.pointsChargedByLender}}</th>
                    </tr>
                    <tr>
                        <td>Amortized Over</td>
                        <th scope="row">{{currentProperty.purchaseInfo.amortizedOverMonthsCount}} Months</th>
                    </tr>
                    <tr>
                        <td>Loan Interest Rate</td>
                        <th scope="row">{{currentProperty.purchaseInfo.loanInterestRatePercentage}}%</th>
                    </tr>
                    <tr>
                        <td>Monthly P&I</td>
                        <th scope="row">{{currentProperty.purchaseInfo.purchaseLoanMonthlyPayment}}</th>
                    </tr>


                </tbody>
            </table>


            <hr>
            <h4>Refinance</h4>
            <table class="table table-borderless">
                <tbody>
                    <tr>
                        <td>Loan Amount</td>
                        <th scope="row">{{currentProperty.purchaseInfo.refiLoanAmount | currency}}</th>
                    </tr>
                    <tr>
                        <td>Loan Fees</td>
                        <th scope="row">{{currentProperty.purchaseInfo.otherRefiClosingCosts | currency}}</th>
                    </tr>
                    <tr>
                        <td>Amortized Over</td>
                        <th scope="row">{{currentProperty.purchaseInfo.refiAomortizedDurationInYears}} years</th>
                    </tr>
                    <tr>
                        <td>Loan Interest Rate</td>
                        <th scope="row">{{currentProperty.purchaseInfo.reportBeingDisplayed}}%</th>
                    </tr>
                    <tr>
                        <td>Monthly P&I</td>
                        <th scope="row">{{currentProperty.purchaseInfo.refiMonthylyPayment | currency}}</th>
                    </tr>
                    <tr>
                        <td>Total Cash Invested</td>
                        <th scope="row">{{currentProperty.purchaseInfo.finalTotalMoneyInvested | currency}}</th>
                    </tr>

                </tbody>
            </table>
        </div>
        <div class="col-7">
            <div class="row text-center">
                <div class="btn-group btn-group-toggle" id="hightLevelViewButtons" data-toggle="buttons">
                    <label class="btn btn-outline-primary" [ngClass]="{'active': reportBeingDisplayed == 1}">
                        <input type="radio" name="reportBeingDisplayed" [(ngModel)]="reportBeingDisplayed" value="1"
                            (click)="reportOverviewBtnsClicked(1)">
                        Rehab Period
                    </label>
                    <label class="btn btn-outline-primary" [ngClass]="{'active': reportBeingDisplayed == 2}">
                        <input type="radio" name="reportBeingDisplayed" [(ngModel)]="reportBeingDisplayed" value="2"
                            (click)="reportOverviewBtnsClicked(2)">
                        Initial Rental Period
                    </label>
                    <label class="btn btn-outline-primary" [ngClass]="{'active': reportBeingDisplayed == 3}">
                        <input type="radio" name="reportBeingDisplayed" [(ngModel)]="reportBeingDisplayed" value="3"
                            (click)="reportOverviewBtnsClicked(3)">
                        Refinance
                    </label>
                </div>
            </div>

            <div id="rehabPeriodReport" *ngIf="reportBeingDisplayed == 1">
                <div class="row highlights-row">
                    <div class="col-3 highlights-col">
                        <h3>
                            {{dataToDisplay.monthlyIncome | currency}}
                        </h3>
                        <h3>
                            <small class="text-muted">Monthly Income</small>
                        </h3>
                    </div>
                    <div class="col-3 highlights-col">
                        <h3>
                            {{dataToDisplay.monthlyExpenses | currency}}
                        </h3>
                        <h3>
                            <small class="text-muted">Monthly Expenses</small>
                        </h3>
                    </div>
                    <div class="col-3 highlights-col">
                        <h3
                            [ngClass]="{'text-success': dataToDisplay.monthlyCashFlow > 0, 'text-danger':dataToDisplay.monthlyCashFlow < 1 }">
                            {{dataToDisplay.monthlyCashFlow | currency}}
                        </h3>
                        <h3>
                            <small class="text-muted">Monthly Cashflow</small>
                        </h3>
                    </div>
                    <div class="col-3 highlights-col">
                        <h3>
                            --.--%
                        </h3>
                        <h3>
                            <small class="text-muted">PRO Forma Cap Rate</small>
                        </h3>
                    </div>
                </div>
                <div class="row highlights-row">
                    <div class="col-3 highlights-col">
                        <h3>
                            $--.--
                        </h3>
                        <h3>
                            <small class="text-muted">NOI</small>
                        </h3>
                    </div>
                    <div class="col-3 highlights-col">
                        <h3>
                            {{dataToDisplay.timeToRefinance}} Months
                        </h3>
                        <h3>
                            <small class="text-muted">Time to Refinance</small>
                        </h3>
                    </div>
                    <div class="col-3 highlights-col">
                        <h3>
                            {{dataToDisplay.roi}}%
                        </h3>
                        <h3>
                            <small class="text-muted">Cash on Cash ROI</small>
                        </h3>
                    </div>
                    <div class="col-3 highlights-col">
                        <h3>
                            --.--%
                        </h3>
                        <h3>
                            <small class="text-muted">Purchase Cap Rate</small>
                        </h3>
                    </div>
                </div>
            </div>







            <div id="refinancePeriodReport" *ngIf="reportBeingDisplayed == 2">
                    <div class="row highlights-row">
                        <div class="col-3 highlights-col">
                            <h3>
                                {{dataToDisplay.monthlyIncome | currency}}
                            </h3>
                            <h3>
                                <small class="text-muted">Monthly Income</small>
                            </h3>
                        </div>
                        <div class="col-3 highlights-col">
                            <h3>
                                {{dataToDisplay.monthlyExpenses | currency}}
                            </h3>
                            <h3>
                                <small class="text-muted">Monthly Expenses</small>
                            </h3>
                        </div>
                        <div class="col-3 highlights-col">
                            <h3
                                [ngClass]="{'text-success': dataToDisplay.monthlyCashFlow > 0, 'text-danger':dataToDisplay.monthlyCashFlow < 1 }">
                                {{dataToDisplay.monthlyCashFlow | currency}}
                            </h3>
                            <h3>
                                <small class="text-muted">Monthly Cashflow</small>
                            </h3>
                        </div>
                        <div class="col-3 highlights-col">
                            <h3>
                                --.--%
                            </h3>
                            <h3>
                                <small class="text-muted">PRO Forma Cap Rate</small>
                            </h3>
                        </div>
                    </div>
                    <div class="row highlights-row">
                        <div class="col-3 highlights-col">
                            <h3>
                                $--.--
                            </h3>
                            <h3>
                                <small class="text-muted">NOI</small>
                            </h3>
                        </div>
                        <div class="col-3 highlights-col">
                            <h3>
                                {{dataToDisplay.timeToRefinance}} Months
                            </h3>
                            <h3>
                                <small class="text-muted">Time to Refinance</small>
                            </h3>
                        </div>
                        <div class="col-3 highlights-col">
                            <h3>
                                {{dataToDisplay.roi}} %
                            </h3>
                            <h3>
                                <small class="text-muted">Cash on Cash ROI</small>
                            </h3>
                        </div>
                        <div class="col-3 highlights-col">
                            <h3>
                                --.--%
                            </h3>
                            <h3>
                                <small class="text-muted">Purchase Cap Rate</small>
                            </h3>
                        </div>
                    </div>
    
                    <br>
                    <div class="row">
                        <table class="table">
                            <thead class="thead-dark">
                                <tr>
                                    <th scope="col">Expense</th>
                                    <th scope="col">Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let expenseKey of dataTableKeys">
                                    <th scope="row">{{expenseKey}}</th>
                                    <td>{{currentProperty.rentalInfo.expenses[expenseKey]}}</td>
                                </tr>
                                <tr>
                                    <th scope="row">Mortgage P&I</th>
                                    <td>{{currentProperty.purchaseInfo.purchaseLoanMonthlyPayment}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>





            <div id="refinancePeriodReport" *ngIf="reportBeingDisplayed == 3">
                <div class="row highlights-row">
                    <div class="col-3 highlights-col">
                        <h3>
                            {{dataToDisplay.monthlyIncome | currency}}
                        </h3>
                        <h3>
                            <small class="text-muted">Monthly Income</small>
                        </h3>
                    </div>
                    <div class="col-3 highlights-col">
                        <h3>
                            {{dataToDisplay.monthlyExpenses | currency}}
                        </h3>
                        <h3>
                            <small class="text-muted">Monthly Expenses</small>
                        </h3>
                    </div>
                    <div class="col-3 highlights-col">
                        <h3
                            [ngClass]="{'text-success': dataToDisplay.monthlyCashFlow > 0, 'text-danger':dataToDisplay.monthlyCashFlow < 1 }">
                            {{dataToDisplay.monthlyCashFlow | currency}}
                        </h3>
                        <h3>
                            <small class="text-muted">Monthly Cashflow</small>
                        </h3>
                    </div>
                    <div class="col-3 highlights-col">
                        <h3>
                            --.--%
                        </h3>
                        <h3>
                            <small class="text-muted">PRO Forma Cap Rate</small>
                        </h3>
                    </div>
                </div>
                <div class="row highlights-row">
                    <div class="col-3 highlights-col">
                        <h3>
                            $--.--
                        </h3>
                        <h3>
                            <small class="text-muted">NOI</small>
                        </h3>
                    </div>
                    <div class="col-3 highlights-col">
                        <h3>
                            {{dataToDisplay.timeToRefinance}} Months
                        </h3>
                        <h3>
                            <small class="text-muted">Time to Refinance</small>
                        </h3>
                    </div>
                    <div class="col-3 highlights-col">
                        <h3>
                            {{dataToDisplay.roi}} %
                        </h3>
                        <h3>
                            <small class="text-muted">Cash on Cash ROI</small>
                        </h3>
                    </div>
                    <div class="col-3 highlights-col">
                        <h3>
                            --.--%
                        </h3>
                        <h3>
                            <small class="text-muted">Purchase Cap Rate</small>
                        </h3>
                    </div>
                </div>

                <br>
                <div class="row">
                    <table class="table">
                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">Expense</th>
                                <th scope="col">Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let expenseKey of dataTableKeys">
                                <th scope="row">{{expenseKey}}</th>
                                <td>{{currentProperty.rentalInfo.expenses[expenseKey]}}</td>
                            </tr>
                            <tr>
                                <th scope="row">Mortgage P&I</th>
                                <td>{{currentProperty.purchaseInfo.refiMonthylyPayment}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>